
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Setting Up Rails Environment - A Journey on Rails</title>
  <meta name="author" content="Chi Phan">

  
  <meta name="description" content="Setting up Rails Environment">
  <meta name="keywords" content="Rails, Ruby, rvm, gemset, gem">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ccphan.github.io/blog/2014/09/07/setting-up-rails-environment">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="A Journey on Rails" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='https://fonts.googleapis.com/css?family=Noto+Serif:400,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-54485666-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <header role="banner"><hgroup>
  <h1><a href="/">A Journey on Rails</a></h1>
  
    <h2>Tracking it as I go</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  
  
</ul>

<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Setting Up Rails Environment</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-09-07T01:23:19+09:00" pubdate data-updated="true"></time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://ccphan.github.io">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Time to install Ruby and Rails&hellip;</p>

<!-- more -->


<h2>Installing Ruby</h2>

<p>Running OS X or Linux use <em>Ruby Version Manager</em> (rvm) to install and manage different versions of ruby.</p>

<h4>1. Install rvm:</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ curl -sSL https://get.rvm.io | bash -s stable</span></code></pre></td></tr></table></div></figure>


<h4>2. Update to the latest version of rvm:</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm get stable</span></code></pre></td></tr></table></div></figure>


<h4>3. Check the requirements to install Ruby:</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm requirements</span></code></pre></td></tr></table></div></figure>


<h4>4. Using Homebrew on OSX you can install any missing libraries/apts:</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ brew install libtool libxslt libksba openssl libyaml</span></code></pre></td></tr></table></div></figure>


<p>On Linus use apt-get or yum:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># Debian
</span><span class='line'>$ apt-get install libyaml-dev
</span><span class='line'>
</span><span class='line'># Fedora/RHEL/CentOS
</span><span class='line'>$ yum install libyaml-devel</span></code></pre></td></tr></table></div></figure>


<h4>5. Install Ruby:</h4>

<p>In this instance we are installing ruby version 2 which requires that the openssl location be specified.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm install 2.0.0 --with-openssl-dir=$HOME/.rvm/usr</span></code></pre></td></tr></table></div></figure>


<h4>6. Check ruby versions installed:</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm list
</span><span class='line'>
</span><span class='line'>rvm rubies
</span><span class='line'>
</span><span class='line'>=* ruby-2.0.0-p481 [ x86_64 ]
</span><span class='line'>   ruby-2.1.0 [ x86_64 ]
</span><span class='line'>   ruby-2.1.1 [ x86_64 ]
</span><span class='line'>
</span><span class='line'># =&gt; - current
</span><span class='line'># =* - current && default
</span><span class='line'>#  * - default</span></code></pre></td></tr></table></div></figure>


<p><em>Note</em> you can specify which version of ruby and default to use by:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm --default use &lt;ruby version&gt;</span></code></pre></td></tr></table></div></figure>


<h4>7. Check version of ruby in use:</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ruby -v</span></code></pre></td></tr></table></div></figure>


<h2>Gemsets</h2>

<p>Gems are essentially self contained packages of ruby code.  Due to possible conflict of gem versions it is useful to tie a particular <code>gem version</code> used for a particular <code>ruby version</code>.  We associate these into a <code>gemset</code> and subsquently enforce this use in the application through the Gemfile (more on this later).</p>

<h4>1. Create a gemset for a ruby version:</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rvm use 2.0.0@railstutorial_rails_4_0 --create --default</span></code></pre></td></tr></table></div></figure>


<p>This command creates <code>(--create)</code> the gemset <code>railstutorial_rails_4_0</code> associated with <code>Ruby 2.0.0</code> while arranging to start using it immediately <code>(use)</code> and setting it as the default <code>(--default)</code> gemset, so that any time we open a new terminal window the <code>2.0.0@railstutorial_rails_4_0</code> Ruby/gemset combination is automatically selected.</p>

<p>RVM gives you a separate gem directory for each and every Ruby version and gemset. This means that gems must be explicitly installed for each revision and gemset.</p>

<h3>Setting ruby version and gemset in Gemfile</h3>

<p>We use <em>Bundler</em> to install the required gems needed by the app via <code>bundle install</code>.  Bundler will by default install the latest version of the gem if the ruby version is not specify in the <code>Gemfile</code>.   We can further lock the app to use a specific ruby/gemset combination by specifying this requirement in the Gemfile:</p>

<figure class='code'><figcaption><span>Gemfile </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ruby '2.0.0'
</span><span class='line'>#ruby-gemset=railstutorial_rails_4_0</span></code></pre></td></tr></table></div></figure>


<h3>Gemset commands</h3>

<h4>1. To see the name of the current gemset</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm gemset use teddy
</span><span class='line'>$ rvm gemset name
</span><span class='line'>teddy</span></code></pre></td></tr></table></div></figure>


<h4>2. To list the full directory path for the current gemset:</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm gemdir
</span><span class='line'> /Users/rys/.rvm/gems/2.1.1@teddy</span></code></pre></td></tr></table></div></figure>


<h4>3. To list all named gemsets for the current ruby interpreter</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm gemset list
</span><span class='line'>
</span><span class='line'> global
</span><span class='line'> teddy</span></code></pre></td></tr></table></div></figure>


<h3>Bundler</h3>

<p>Just a few notes on Bundler commands.  As mentioned before Bundler is used to manager the install of required gems in the app.</p>

<p>To create and install required gems in app we run:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ bundle install</span></code></pre></td></tr></table></div></figure>


<p>To show the gems installed:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ bundle show</span></code></pre></td></tr></table></div></figure>


<p>To check gem dependencies:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ bundle check</span></code></pre></td></tr></table></div></figure>


<h2>RubyGem</h2>

<p>Package manager for ruby projects and installed as part of rvm.</p>

<h4>1. To check version:</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ which gem</span></code></pre></td></tr></table></div></figure>


<h4>2. Freeze to a gem</h4>

<p>Freezing a system to a particular version to prevent conflict should RubyGem change:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem update --system 2.1.9</span></code></pre></td></tr></table></div></figure>


<h4>3. Suppress ri and rdoc documentation due to build time.</h4>

<p>Create a <code>~/.gemrc</code> file with the following contents:</p>

<figure class='code'><figcaption><span>~/.gemrc </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>install: --no-rdoc --no-ri
</span><span class='line'>update:  --no-rdoc --no-ri</span></code></pre></td></tr></table></div></figure>


<h2>Install Rails</h2>

<h4>1. Instal rails 4.0.8 for example:</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem install rails --version 4.0.8</span></code></pre></td></tr></table></div></figure>


<h4>2. Check version:</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rails -v
</span><span class='line'>Rails 4.0.8</span></code></pre></td></tr></table></div></figure>


<p></p>

<h2>Sublime</h2>

<p>Sublime and TextMate are the most popular choices of editors for Ruby and Rails environment.</p>

<p>For sublime I suggest heading to the <a href="https://github.com/mhartl/rails_tutorial_sublime_text">Rails Tutorial Sublime setup</a> referenced by <a href="https://www.railstutorial.org/book/beginning">Michael Hartl &lsquo;Ruby on Rails Tutorial&rsquo;</a>.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Chi Phan</span></span>

      








  


<time datetime="2014-09-07T01:23:19+09:00" pubdate data-updated="true"></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/gem/'>gem</a>, <a class='category' href='/blog/categories/gemset/'>gemset</a>, <a class='category' href='/blog/categories/rails/'>rails</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>, <a class='category' href='/blog/categories/rvm/'>rvm</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://ccphan.github.io/blog/2014/09/07/setting-up-rails-environment/" data-via="phancc" data-counturl="http://ccphan.github.io/blog/2014/09/07/setting-up-rails-environment/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/09/06/adding-description-and-keyword-meta-tags-to-octopress/" title="Previous Post: Adding  description and keywords meta tags to Octopress">&laquo; Adding  description and keywords meta tags to Octopress</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Chi Phan -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'ccphanblog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://ccphan.github.io/blog/2014/09/07/setting-up-rails-environment/';
        var disqus_url = 'http://ccphan.github.io/blog/2014/09/07/setting-up-rails-environment/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



<script>
  $(document).ready(function() {  
  var stickyNavTop = $('nav').offset().top;  
    
  var stickyNav = function(){  
  var scrollTop = $(window).scrollTop();  
         
  if (scrollTop > stickyNavTop) {   
      $('nav').addClass('sticky');  
  } else {  
      $('nav').removeClass('sticky');   
  }  
  };  
    
  stickyNav();  
    
  $(window).scroll(function() {  
      stickyNav();  
  });  
  });  
</script>


</body>
</html>
